function handleFiles(n){for(var i=this,t=0;t<n.length;t++)XboxInternals.IO.FileIO.LoadFromFile(n[t],function(n){var r=new XboxInternals.Stfs.StfsPackage(n,0),t;console.log(r),console.log(r.metaData.displayName),console.log(r.metaData.displayName.length),t=createForm("#formStfsPackageExplorer");t.on("mousedown",function(){$(".form").not(i).css("z-index","100"),$(i).css("z-index","1000")});t.find("#stfs_displayName").val(r.metaData.displayName),t.find("#stfs_titleName").val(r.metaData.titleName),t.find("#stfs_titleId").val(r.metaData.titleID.toString(16).toUpperCase()),t.find("#stfs_profileId").val(Uint8ArrayToHexString(r.metaData.profileID)),t.find("#stfs_deviceId").val(Uint8ArrayToHexString(r.metaData.deviceID)),t.find("#stfs_consoleId").val(Uint8ArrayToHexString(r.metaData.consoleID)),t.find("#stfs_thumbnails").html(r.metaData.thumbnailImage),t.find("#stfs_btnSave").click(function(){n.SaveFile()}),t.appendTo("#forms")})}function Uint8ArrayToHexString(n){for(var i="",t=0;t<n.length;t++)i+=(n[t]>15?"":"0")+n[t].toString(16);return i.toUpperCase()}function hex(n){for(var i="",r,t=7;t>=0;--t)r=n>>>(t<<2)&15,i+=r.toString(16);return i}function createForm(n){var t=$(n).clone();return t.removeAttr("id"),t.attr("id","form-"+ ++totalForms),t.draggable({handle:"header",stack:".form"}),t.find("#windowClose").attr("data-form",t.attr("id")),t.find("#windowClose").click(function(n){$("#"+$(n.currentTarget).attr("data-form")).remove()}),t}window.onload=function(){window.addEventListener("dragenter",function(n){n.stopPropagation(),n.preventDefault()},!1),window.addEventListener("dragexit",function(n){n.stopPropagation(),n.preventDefault()},!1),window.addEventListener("dragover",function(n){n.stopPropagation(),n.preventDefault()},!1),window.addEventListener("drop",function(n){n.stopPropagation(),n.preventDefault();var t=event.dataTransfer.files,i=t.length;i>0&&handleFiles(t)},!1)};var totalForms=0